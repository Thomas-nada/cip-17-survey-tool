import React, { createContext, useContext, useEffect, useMemo, type ReactNode } from 'react';
import { GENERATED_LOCALES } from './generatedLocales.ts';

export type LanguageCode = 'en' | 'zh' | 'hi' | 'es' | 'fr' | 'ar' | 'bn' | 'pt' | 'ru' | 'ur' | 'ja';

export const LANGUAGE_OPTIONS: { code: LanguageCode; label: string }[] = [
  { code: 'en', label: 'English' },
];

const en: Record<string, string> = {
  'header.dashboard': 'Dashboard',
  'header.surveys': 'Surveys',
  'header.create': 'Create',
  'header.onChainSurveys': 'On-Chain Surveys',
  'header.connectWallet': 'Connect Wallet',
  'header.connecting': 'Connecting...',
  'header.disconnect': 'Disconnect',
  'header.connect': 'Connect',
  'header.connectWalletTitle': 'Connect Wallet',
  'header.selectCip30Wallet': 'Select a CIP-30 wallet',
  'header.noWalletsDetected': 'No wallets detected',
  'header.installWalletHelp': 'Install a Cardano wallet extension like Nami, Eternl, or Lace to connect.',
  'header.address': 'Address',
  'header.userPreferences': 'User Preferences',
  'header.theme': 'Theme',
  'header.language': 'Language',
  'header.dark': 'Dark',
  'header.light': 'Light',
  'header.mainnet': 'Mainnet',
  'header.testnet': 'Testnet',
  'header.switchTo': 'Switch to {network}',
  'toast.walletConnected': 'Connected to {wallet}',
  'toast.walletDisconnected': 'Wallet disconnected',
  'layout.errorLoading': 'Something went wrong while loading on-chain data.',
  'layout.showTechnicalDetails': 'Show technical details',
  'layout.hideTechnicalDetails': 'Hide technical details',
  'layout.footerOnChainSurveys': 'On-Chain Surveys',
  'layout.footerNetworks': 'Mainnet + Testnet',
  'dashboard.platform': 'Label 17 Platform',
  'dashboard.onChainSurveys': 'On-Chain Surveys & Polls',
  'dashboard.createAndTally': 'Create and tally verifiable on-chain surveys on Cardano using transaction metadata label 17.',
  'dashboard.createSurvey': 'Create Survey',
  'dashboard.browseSurveys': 'Browse Surveys',
  'dashboard.activeSurveys': 'Active Surveys',
  'dashboard.viewAll': 'View all',
  'dashboard.platformCapabilities': 'Platform Capabilities',
  'dashboard.mostPopular': 'Most popular surveys by response count',
  'dashboard.productionReady': 'Production-ready governance survey features for Cardano networks',
  'dashboard.cap1Title': 'Standards-Based Metadata',
  'dashboard.cap1Desc': 'Label 17 payloads for survey creation and voting, aligned with the CIP-17 structure.',
  'dashboard.cap2Title': 'Deterministic Survey IDs',
  'dashboard.cap2Desc': 'Canonical CBOR + Blake2b-256 hashing ensures stable survey identity and integrity checks.',
  'dashboard.cap3Title': 'Flexible Vote Methods',
  'dashboard.cap3Desc': 'Single-choice, multi-select, and numeric-range surveys with built-in validation rules.',
  'dashboard.cap4Title': 'Eligibility & Identity Controls',
  'dashboard.cap4Desc': 'Role-gated voting for DReps, SPOs, CC, and stakeholders, including proof-based DRep CLI support.',
  'dashboard.cap5Title': 'Reliable Tallying',
  'dashboard.cap5Desc': 'Latest-response-wins deduplication, weighted/credential-based counting, and transparent audit views.',
  'dashboard.cap6Title': 'Wallet + CLI Workflows',
  'dashboard.cap6Desc': 'Support for both connected wallets and operational CLI flows with helper scripts and guided steps.',
  'dashboard.totalSurveys': 'Total Surveys',
  'dashboard.responses': 'Responses',
  'dashboard.uniqueVoters': 'Unique Voters',
  'dashboard.avgResponses': 'Avg Responses',
  'surveyList.title': 'Surveys',
  'surveyList.created': '{count} survey{suffix} created',
  'surveyList.newSurvey': 'New Survey',
  'surveyList.searchPlaceholder': 'Search by title, question, or TxId...',
  'surveyList.noMatching': 'No matching surveys',
  'surveyList.noSurveys': 'No surveys yet',
  'surveyList.tryDifferent': 'Try a different search term',
  'surveyList.createFirst': 'Create your first survey to get started',
  'createSurvey.title': 'Create Survey',
  'createSurvey.subtitle': 'Configure your survey and review the generated Label 17 metadata',
  'detail.notFound': 'Survey not found',
  'detail.notFoundDesc': "The survey you're looking for doesn't exist",
  'detail.backToSurveys': 'Back to surveys',
  'detail.vote': 'Vote',
  'detail.results': 'Results',
  'detail.technicalData': 'Technical Data',
  'detail.responses': 'responses',
  'detail.lastRefresh': 'Last refresh: {time} UTC',
  'detail.noRefreshYet': 'No refresh yet',
  'detail.watchOn': 'Watch: On',
  'detail.watchOff': 'Watch: Off',
  'detail.refreshNow': 'Refresh now',
  'detail.fullMetadata': 'Full Label 17 Metadata',
  'detail.hash': 'Hash',
  'detail.surveyHash': 'surveyHash',
  'detail.txId': 'TxId',
  'detail.methodSingleChoice': 'Single Choice',
  'detail.methodMultiSelect': 'Multi-Select',
  'detail.methodNumericRange': 'Numeric Range',
  'detail.methodCustom': 'Custom',
  'results.voteDistributionList': 'Vote Distribution List',
  'results.sort': 'Sort',
  'results.sortLeading': 'Leading (default)',
  'results.sortName': 'Name (A-Z)',
  'results.sortVotes': 'Votes (high-low)',
  'results.sortPercentage': 'Percentage (high-low)',
  'results.weightedByAda': 'Weighted by ADA',
  'results.totalResponses': 'Total Responses',
  'results.uniqueVoters': 'Unique Voters',
  'results.weighting': 'Weighting',
  'results.stakeBased': 'Stake-Based',
  'results.credentialBased': 'Credential-Based',
  'results.totalVotingPower': 'Total Voting Power',
  'results.median': 'Median',
  'results.tallyPolicy': 'Tally Policy',
  'results.copySnapshotHash': 'Copy Snapshot Hash',
  'results.exportJson': 'Export JSON',
  'results.exportCsv': 'Export CSV',
  'results.policyLatestVote': 'Latest valid vote per voter is counted; older votes are marked as superseded.',
  'results.policyUnverifiedExcluded': 'Unverified identities are excluded from counted results.',
  'results.policyWeighting': 'Weighting uses survey policy (`CredentialBased` or `StakeBased`).',
  'results.snapshotHash': 'Snapshot hash (blake2b-256): {hash}',
  'results.individualResponses': 'Individual Responses',
  'results.total': '{count} total',
  'results.credential': 'Credential',
  'results.value': 'Value',
  'results.votingPower': 'Voting Power',
  'results.utcTime': 'UTC Time',
  'results.notCounted': 'Not Counted',
  'results.notCountedUnverified': 'Not Counted: Unverified',
  'results.showLess': 'Show less',
  'results.showAllResponses': 'Show all {count} responses',
  'results.noResponsesYet': 'No responses yet',
  'results.submitToSee': 'Submit a vote to see results',
  'surveyCard.endsEpoch': 'Ends epoch {epoch}',
  'surveyCard.votes': 'votes',
  'role.DRep': 'Delegated Representative',
  'role.SPO': 'Stake Pool Operator',
  'role.CC': 'Constitutional Committee',
  'role.Stakeholder': 'ADA Holder',
  'common.add': 'Add',
  'common.remove': 'Remove',
  'common.check': 'Check',
  'common.checking': 'Checking...',
  'common.validating': 'Validating...',
  'common.submitting': 'Submitting...',
  'common.show': 'Show',
  'common.hide': 'Hide',
  'common.copyJson': 'Copy JSON',
  'common.copied': 'Copied!',
  'common.blockfrostNotConfigured': 'Blockfrost not configured.',
  'create.surveyTitle': 'Survey Title',
  'create.surveyTitlePlaceholder': 'e.g. Dijkstra hard-fork CIP shortlist',
  'create.description': 'Description',
  'create.descriptionPlaceholder': 'Provide context for this survey...',
  'create.question': 'Question',
  'create.questionPlaceholder': 'e.g. Which CIPs should be shortlisted for Dijkstra?',
  'create.method': 'Voting Method',
  'create.methodDescSingle': 'Choose exactly one option.',
  'create.methodDescMulti': 'Choose one or more options up to a max.',
  'create.methodDescNumeric': 'Submit a numeric value in a configured range.',
  'create.options': 'Options',
  'create.min2Required': 'min 2 required',
  'create.option': 'Option',
  'create.addOption': 'Add Option',
  'create.maxSelections': 'Max Selections',
  'create.votersSelectUpTo': 'Voters can select up to {count} of {total} options',
  'create.numericConstraints': 'Numeric Constraints',
  'create.minValue': 'Min Value',
  'create.maxValue': 'Max Value',
  'create.step': 'Step',
  'create.optional': 'optional',
  'create.any': 'Any',
  'create.respondentsChooseBetween': 'Respondents will choose a value between',
  'create.inIncrementsOf': 'in increments of',
  'create.minLessThanMax': 'minValue must be less than or equal to maxValue',
  'create.optionalFields': 'Optional Fields',
  'create.eligibilityRoles': 'Eligibility Roles',
  'create.voteWeighting': 'Vote Weighting',
  'create.defaultCredentialBased': 'Default: CredentialBased (1 vote per credential)',
  'create.govActionReference': 'Governance Action Reference',
  'create.transactionIdPlaceholder': 'Transaction ID (64 hex chars)',
  'create.actionIndex': 'Action Index',
  'create.endEpoch': 'End Epoch',
  'create.surveyClosesAtEndEpoch': 'Survey closes at end of epoch',
  'create.endEpochPlaceholder': 'e.g. 172',
  'create.surveyLiveImmediately': 'Survey is live immediately after submission',
  'create.validationIssues': 'Validation Issues',
  'create.walletNotConnectedHelp': 'Connect a CIP-30 wallet to create surveys on-chain, or continue with CLI.',
  'create.cliEnabled': 'CLI Enabled',
  'create.useCli': 'Use CLI',
  'create.createSurveyWithCli': 'Create Survey with CLI',
  'create.cliStep1': 'Fill the form until validation is green.',
  'create.cliStep2': 'Copy or download metadata JSON (or use helper script).',
  'create.cliStep3': 'Run the CLI commands below with your own tx input/address/key.',
  'create.cliStep4': 'After submit, refresh surveys to load the new survey.',
  'create.metadataCopied': 'Create-survey metadata copied',
  'create.copyMetadataJson': 'Copy Metadata JSON',
  'create.downloadMetadataJson': 'Download metadata.json',
  'create.helperScriptCopied': 'Create-survey helper script copied',
  'create.copyHelperScript': 'Copy helper script',
  'create.downloadHelperScript': 'Download helper.sh',
  'create.cliCommandsCopied': 'CLI create commands copied',
  'create.copyCliCommands': 'Copy CLI Commands',
  'create.liveMetadata': 'Live Metadata',
  'create.fixValidationErrors': 'Please fix the validation errors before submitting',
  'create.surveyCreatedTx': 'Survey created! TxId: {tx}',
  'create.completeRequiredToViewMetadata': 'Complete required fields to view generated metadata',
  'create.label17MetadataPayload': 'Label 17 Metadata Payload',
  'create.surveyHashBlake': 'Survey Hash (blake2b-256)',
  'create.canonicalCborPreimage': 'Canonical CBOR (hash preimage)',
  'vote.drepProofOnlyForDrep': 'DRep proof validation is only required for drep credentials.',
  'vote.pasteProofKeySig': 'Paste both proof.key and proof.signature.',
  'vote.drepProofValidated': 'DRep proof validated successfully.',
  'vote.drepProofValidationFailed': 'DRep proof validation failed.',
  'vote.payloadChangedRevalidate': 'Vote payload changed. Re-validate DRep proof.',
  'vote.enterCredential': 'Enter your credential (DRep ID or address)',
  'vote.provideWalletForRoleChecks': 'For SPO/CC/Stakeholder checks, provide a wallet address (addr... or stake...)',
  'vote.cliEligibilityCheckFailed': 'CLI eligibility check failed',
  'vote.maxSelectionsAllowed': 'Maximum {count} selections allowed',
  'vote.fixValidationErrors': 'Please fix validation errors',
  'vote.validateDrepBeforeCli': 'Validate DRep proof before generating CLI vote metadata.',
  'vote.cliMetadataCopiedSubmitRefresh': 'CLI metadata copied. Submit it with cardano-cli, then refresh results.',
  'vote.responseSubmitted': 'Response submitted successfully!',
  'vote.selectUpTo': 'Select up to {count} options',
  'vote.selectedCount': '{selected} / {total} selected',
  'vote.chooseOneOption': 'Choose one option',
  'vote.walletNotConnected': 'Wallet not connected',
  'vote.connectOrCli': 'Connect a CIP-30 wallet or continue with CLI.',
  'vote.cliEnabled': 'CLI Enabled',
  'vote.useCli': 'Use CLI',
  'vote.credentialInputLabel': 'Credential (drep... for DRep, or addr/stake for SPO/CC/Stakeholder)',
  'vote.credentialPlaceholder': 'drep1... or addr_test1... or stake_test1...',
  'vote.eligibleRoles': 'Eligible roles',
  'vote.drepCliProofRequired': 'DRep CLI proof is required. Sign the generated challenge and paste COSE key/signature below.',
  'vote.challengeToSign': 'Challenge to sign (exact bytes):',
  'vote.drepChallengeCopied': 'DRep challenge copied',
  'vote.copyChallenge': 'Copy challenge',
  'vote.cliProofValidatorCommand': 'CLI proof validator command:',
  'vote.proofValidatorCommandCopied': 'Proof validator command copied',
  'vote.copyValidatorCommand': 'Copy validator command',
  'vote.validateDrepProof': 'Validate DRep Proof',
  'vote.checkingEligibility': 'Checking eligibility...',
  'vote.verifyingOnChainRoles': 'Verifying your on-chain roles via Blockfrost',
  'vote.eligibleToVote': 'Eligible to vote',
  'vote.walletHoldsRequiredRoles': 'Your wallet holds the required role(s):',
  'vote.notEligibleToVote': 'Not eligible to vote',
  'vote.requiresOneOf': 'This survey requires one of:',
  'vote.missing': 'Missing',
  'vote.recheckEligibility': 'Re-check eligibility',
  'vote.eligibilityCheckFailed': 'Eligibility check failed',
  'vote.retryEligibilityCheck': 'Retry eligibility check',
  'vote.checkingCliEligibility': 'Checking CLI credential eligibility...',
  'vote.eligibleWithCliCredential': 'Eligible to vote with CLI credential',
  'vote.yourVotingPower': 'Your Voting Power',
  'vote.stakeBasedWeightingInfo': 'This survey uses stake-based weighting — your vote weight scales with your ADA',
  'vote.credentialBasedWeightingInfo': 'This survey uses credential-based weighting — 1 vote per wallet',
  'vote.validateDrepProofFirst': 'Validate DRep proof first',
  'vote.copyVoteMetadata': 'Copy Vote Metadata',
  'vote.submitVote': 'Submit Vote',
  'vote.anOption': 'an option',
  'vote.oneOrMoreOptions': 'one or more options',
  'vote.selectAboveToCast': 'Select {target} above to cast your vote',
  'vote.quickCliGuide': 'Quick CLI Guide',
  'vote.quickCliStep1': 'Enter your credential and click Check.',
  'vote.quickCliStep2': 'For DRep votes, paste proof.key and proof.signature, then validate proof.',
  'vote.quickCliStep3': 'Copy or download metadata JSON (or use the helper script).',
  'vote.quickCliStep4': 'Run the CLI commands with your own tx input, change address, and signing key.',
  'vote.quickCliStep5': 'Submit the transaction, then refresh results to confirm it was counted.',
  'vote.useMetadataWithLabel': 'Use this metadata with your CLI transaction under label',
  'vote.cliMetadataPayloadCopied': 'CLI metadata payload copied',
  'vote.cliHelperScriptCopied': 'CLI helper script copied',
  'vote.cliTemplate': 'CLI template:',
  'vote.cardanoCliTemplateCopied': 'cardano-cli template copied',
  'vote.identityModelInfo': 'Identity model: signer address is authoritative for SPO/CC/Stakeholder; DRep claims require valid proof (message + COSE key + signature).',
  'vote.verifySubmittedVote': 'Verify submitted vote:',
  'vote.verifyCommandCopied': 'Verify command copied',
  'vote.copyVerifyCommand': 'Copy verify command',
  'vote.singleVote': 'vote',
  'vote.multipleVotes': 'votes',
};

const translations: Record<LanguageCode, Record<string, string>> = {
  en,
  zh: { ...en, ...(GENERATED_LOCALES.zh ?? {}) },
  hi: { ...en, ...(GENERATED_LOCALES.hi ?? {}) },
  es: { ...en, ...(GENERATED_LOCALES.es ?? {}) },
  fr: { ...en, ...(GENERATED_LOCALES.fr ?? {}) },
  ar: { ...en, ...(GENERATED_LOCALES.ar ?? {}) },
  bn: { ...en, ...(GENERATED_LOCALES.bn ?? {}) },
  pt: { ...en, ...(GENERATED_LOCALES.pt ?? {}) },
  ru: { ...en, ...(GENERATED_LOCALES.ru ?? {}) },
  ur: { ...en, ...(GENERATED_LOCALES.ur ?? {}) },
  ja: {
    ...en,
    'header.dashboard': 'ダッシュボード',
    'header.surveys': 'アンケート',
    'header.create': '作成',
    'header.onChainSurveys': 'オンチェーンアンケート',
    'header.connectWallet': 'ウォレット接続',
    'header.connecting': '接続中...',
    'header.disconnect': '切断',
    'header.connect': '接続',
    'header.connectWalletTitle': 'ウォレット接続',
    'header.selectCip30Wallet': 'CIP-30ウォレットを選択',
    'header.noWalletsDetected': 'ウォレットが見つかりません',
    'header.installWalletHelp': 'Nami、Eternl、Lace などのCardanoウォレット拡張をインストールしてください。',
    'header.address': 'アドレス',
    'header.userPreferences': 'ユーザー設定',
    'header.theme': 'テーマ',
    'header.language': '言語',
    'header.dark': 'ダーク',
    'header.light': 'ライト',
    'header.mainnet': 'メインネット',
    'header.testnet': 'テストネット',
    'header.switchTo': '{network} に切り替え',
    'toast.walletConnected': '{wallet} に接続しました',
    'toast.walletDisconnected': 'ウォレットを切断しました',
    'layout.errorLoading': 'オンチェーンデータの読み込み中に問題が発生しました。',
    'layout.showTechnicalDetails': '技術詳細を表示',
    'layout.hideTechnicalDetails': '技術詳細を非表示',
    'layout.footerOnChainSurveys': 'オンチェーンアンケート',
    'layout.footerNetworks': 'メインネット + テストネット',
    'dashboard.platform': 'Label 17 プラットフォーム',
    'dashboard.onChainSurveys': 'オンチェーンアンケート & 投票',
    'dashboard.createAndTally': 'トランザクションメタデータラベル17を使って、Cardano上で検証可能なオンチェーンアンケートを作成・集計します。',
    'dashboard.createSurvey': 'アンケート作成',
    'dashboard.browseSurveys': 'アンケート一覧',
    'dashboard.activeSurveys': 'アクティブなアンケート',
    'dashboard.viewAll': 'すべて表示',
    'dashboard.platformCapabilities': 'プラットフォーム機能',
    'dashboard.mostPopular': '回答数の多い人気アンケート',
    'dashboard.productionReady': 'Cardano向け本番対応ガバナンスアンケート機能',
    'dashboard.totalSurveys': 'アンケート総数',
    'dashboard.responses': '回答数',
    'dashboard.uniqueVoters': 'ユニーク投票者',
    'dashboard.avgResponses': '平均回答数',
    'dashboard.cap1Title': '標準準拠メタデータ',
    'dashboard.cap1Desc': 'CIP-17構造に沿ったLabel 17ペイロードで作成・投票を実現。',
    'dashboard.cap2Title': '決定的なアンケートID',
    'dashboard.cap2Desc': '正規CBOR + Blake2b-256で安定したIDと整合性検証を実現。',
    'dashboard.cap3Title': '柔軟な投票方式',
    'dashboard.cap3Desc': '単一選択・複数選択・数値レンジに対応し、検証ルールを内蔵。',
    'dashboard.cap4Title': '資格・本人性コントロール',
    'dashboard.cap4Desc': 'DRep/SPO/CC/Stakeholderの役割制限投票とDRep CLI証明に対応。',
    'dashboard.cap5Title': '信頼できる集計',
    'dashboard.cap5Desc': '最新投票優先・重み付き/資格ベース集計・監査ビューを提供。',
    'dashboard.cap6Title': 'ウォレット + CLIフロー',
    'dashboard.cap6Desc': '接続ウォレットとCLI運用の両方をガイド付きでサポート。',
    'surveyList.title': 'アンケート',
    'surveyList.created': '{count}件のアンケートを作成',
    'surveyList.newSurvey': '新規アンケート',
    'surveyList.searchPlaceholder': 'タイトル、質問、TxIdで検索...',
    'surveyList.noMatching': '一致するアンケートはありません',
    'surveyList.noSurveys': 'アンケートはまだありません',
    'surveyList.tryDifferent': '別の検索語を試してください',
    'surveyList.createFirst': '最初のアンケートを作成しましょう',
    'createSurvey.title': 'アンケート作成',
    'createSurvey.subtitle': 'アンケート設定と生成されるLabel 17メタデータを確認します',
    'detail.notFound': 'アンケートが見つかりません',
    'detail.notFoundDesc': '指定のアンケートは存在しません',
    'detail.backToSurveys': 'アンケート一覧へ戻る',
    'detail.vote': '投票',
    'detail.results': '結果',
    'detail.technicalData': '技術データ',
    'detail.responses': '回答',
    'detail.lastRefresh': '最終更新: {time} UTC',
    'detail.noRefreshYet': 'まだ更新されていません',
    'detail.watchOn': '監視: オン',
    'detail.watchOff': '監視: オフ',
    'detail.refreshNow': '今すぐ更新',
    'detail.fullMetadata': 'Label 17 完全メタデータ',
    'detail.hash': 'ハッシュ',
    'detail.txId': 'TxId',
    'detail.methodSingleChoice': '単一選択',
    'detail.methodMultiSelect': '複数選択',
    'detail.methodNumericRange': '数値レンジ',
    'detail.methodCustom': 'カスタム',
    'results.voteDistributionList': '投票分布リスト',
    'results.sort': '並び替え',
    'results.sortLeading': '先頭（既定）',
    'results.sortName': '名前（A-Z）',
    'results.sortVotes': '票数（多い順）',
    'results.sortPercentage': '割合（高い順）',
    'results.weightedByAda': 'ADA重み付き',
    'results.totalResponses': '総回答数',
    'results.uniqueVoters': 'ユニーク投票者',
    'results.weighting': '重み付け',
    'results.stakeBased': 'ステークベース',
    'results.credentialBased': '資格情報ベース',
    'results.totalVotingPower': '総投票力',
    'results.median': '中央値',
    'results.tallyPolicy': '集計ポリシー',
    'results.copySnapshotHash': 'スナップショットハッシュをコピー',
    'results.exportJson': 'JSONエクスポート',
    'results.exportCsv': 'CSVエクスポート',
    'results.policyLatestVote': '各投票者の有効な最新投票のみを集計し、過去票は上書き済みとして扱います。',
    'results.policyUnverifiedExcluded': '未検証の本人性は集計から除外されます。',
    'results.policyWeighting': '重み付けはアンケート設定（`CredentialBased` または `StakeBased`）に従います。',
    'results.snapshotHash': 'スナップショットハッシュ (blake2b-256): {hash}',
    'results.individualResponses': '個別回答',
    'results.total': '合計 {count}',
    'results.credential': '資格情報',
    'results.value': '値',
    'results.votingPower': '投票力',
    'results.utcTime': 'UTC時刻',
    'results.notCounted': '未集計',
    'results.notCountedUnverified': '未集計: 未検証',
    'results.showLess': '折りたたむ',
    'results.showAllResponses': '{count}件の回答をすべて表示',
    'results.noResponsesYet': 'まだ回答がありません',
    'results.submitToSee': '投票すると結果を表示できます',
    'surveyCard.endsEpoch': 'エポック {epoch} で終了',
    'surveyCard.votes': '票',
    'role.DRep': '委任代表者',
    'role.SPO': 'ステークプール運営者',
    'role.CC': '憲法委員会',
    'role.Stakeholder': 'ADA保有者',
    'common.add': '追加',
    'common.remove': '削除',
    'common.check': '確認',
    'common.checking': '確認中...',
    'common.validating': '検証中...',
    'common.submitting': '送信中...',
    'common.show': '表示',
    'common.hide': '非表示',
    'common.copyJson': 'JSONをコピー',
    'common.copied': 'コピーしました',
    'common.blockfrostNotConfigured': 'Blockfrost が設定されていません。',
    'create.method': '投票方式',
    'create.options': '選択肢',
    'create.addOption': '選択肢を追加',
    'create.maxSelections': '最大選択数',
    'create.numericConstraints': '数値制約',
    'create.optionalFields': '任意項目',
    'create.voteWeighting': '投票重み付け',
    'create.validationIssues': '検証エラー',
    'create.createSurveyWithCli': 'CLIでアンケート作成',
    'create.liveMetadata': 'ライブメタデータ',
    'create.copyMetadataJson': 'メタデータJSONをコピー',
    'create.downloadMetadataJson': 'metadata.json をダウンロード',
    'create.copyHelperScript': 'ヘルパースクリプトをコピー',
    'create.downloadHelperScript': 'helper.sh をダウンロード',
    'create.copyCliCommands': 'CLIコマンドをコピー',
    'vote.walletNotConnected': 'ウォレット未接続',
    'vote.connectOrCli': 'CIP-30ウォレットを接続するか、CLIを使用してください。',
    'vote.eligibleToVote': '投票可能です',
    'vote.notEligibleToVote': '投票資格がありません',
    'vote.checkingEligibility': '資格確認中...',
    'vote.verifySubmittedVote': '送信済み投票を確認:',
    'vote.copyVerifyCommand': '検証コマンドをコピー',
    'vote.singleVote': '票',
    'vote.multipleVotes': '票',
  },
};

interface I18nValue {
  language: LanguageCode;
  setLanguage: (lang: LanguageCode) => void;
  t: (key: string, vars?: Record<string, string | number>) => string;
}

const I18nContext = createContext<I18nValue | null>(null);

export function I18nProvider({ children }: { children: ReactNode }) {
  const language: LanguageCode = 'en';
  const setLanguage = (_lang: LanguageCode) => {
    // English-only mode.
  };

  useEffect(() => {
    document.documentElement.setAttribute('lang', 'en');
    document.documentElement.setAttribute('dir', 'ltr');
  }, [language]);

  const t = useMemo(() => {
    return (key: string, vars?: Record<string, string | number>) => {
      const template = en[key] ?? key;
      if (!vars) return template;
      return Object.entries(vars).reduce(
        (out, [k, v]) => out.replaceAll(`{${k}}`, String(v)),
        template
      );
    };
  }, []);

  return (
    <I18nContext.Provider value={{ language, setLanguage, t }}>
      {children}
    </I18nContext.Provider>
  );
}

export function useI18n() {
  const ctx = useContext(I18nContext);
  if (!ctx) throw new Error('useI18n must be used within I18nProvider');
  return ctx;
}
